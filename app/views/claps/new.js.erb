var increaseClaps = (dataset, claps) => {
  var clapCount = document.querySelector(`[data-clapID='${dataset}']`);
  clapCount.innerText = claps;

  const clapsButton = document.querySelector(`[data-claps-button='${dataset}']`);

  clapsButton.classList.toggle('text-orange-500');
  clapsButton.classList.toggle('font-bold');
  clapsButton.classList.toggle('text-lg');
}

var decreaseClaps = (dataset, claps) => {
  var clapCount = document.querySelector(`[data-clapID='${dataset}']`);
  clapCount.innerText = claps;

  const clapsButton = document.querySelector(`[data-claps-button='${dataset}']`);

  clapsButton.classList.toggle('text-orange-500');
  clapsButton.classList.toggle('font-bold');
  clapsButton.classList.toggle('text-lg');
}

<% if @clap.nil? %>
  <% Clap.create!(user: current_user, publication: @publication) %>
  increaseClaps(<%= @publication.id %>, <%= @publication.claps.count %>)
<% else %>
  <% @clap.destroy %>
  decreaseClaps(<%= @publication.id %>, <%= @publication.claps.count %>)
<% end %>

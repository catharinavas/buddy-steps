var increaseClaps = (dataset, claps) => {
  var clapCount = document.querySelector(`[data-clapID='${dataset}']`);
  clapCount.innerText = claps;
}

var decreaseClaps = (dataset, claps) => {
  var clapCount = document.querySelector(`[data-clapID='${dataset}']`);
    clapCount.innerText = claps;
}

<% if @clap.nil? %>
  <% Clap.create!(user: current_user, publication: @publication) %>
  increaseClaps(<%= @publication.id %>, <%= @publication.claps.count %>)
<% else %>
  <% @clap.destroy %>
  decreaseClaps(<%= @publication.id %>, <%= @publication.claps.count %>)
<% end %>

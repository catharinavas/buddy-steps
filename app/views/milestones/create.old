function refreshForm(innerHTML) {
  var newMilestone = document.getElementById('new_milestone');
  newMilestone.innerHTML = innerHTML;
}

function addMilestone(milestoneHTML) {
  var milestones = document.getElementById('milestones');
  milestones.insertAdjacentHTML('afterbegin', milestoneHTML);
}

var banana = document.getElementById('add-milestone');
banana.classList.add('hidden');

<% if @milestone.errors.any? %>
  refreshForm('<%= j render "milestones/new_form", goal: @goal, milestone: @milestone %>');
<% else %>
  addMilestone('<%= j render "milestones/milestone", milestone: @milestone %>');
  refreshForm('<%= j render "milestones/new_form", goal: @goal, milestone: Milestone.new %>');
<% end %>
